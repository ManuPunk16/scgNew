<div *ngIf="departures">
    <!-- Button trigger modal -->
    <div class="d-grid gap-2 col-2 mx-auto" *ngIf="showModeratorBoard">
        <button type="button" class="btn btn-light" data-bs-toggle="modal"
            data-bs-target="#staticBackdrop">
            Insertar Registro Nuevo</button>
    </div>

    <!-- Modal -->
    <div class="modal fade" id="staticBackdrop" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1"
        aria-labelledby="staticBackdropLabel" aria-hidden="true">
        <div class="modal-dialog modal-lg">
            <!-- Inicio de Formulario -->
            <form #deps="ngForm" (ngSubmit)="onSubmit()">
                <div class="modal-content">
                    <div class="modal-header">
                        <h5 class="modal-title" id="staticBackdropLabel">Ingresar Información para Nuevo Registro</h5>
                        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                    </div>
                    <div class="modal-body">
                        <div class="row g-3">
                            <div class="col-md-3">
                                <label for="num_folio" class="form-label">Num. Folio</label>
                                <input type="number" name="num_folio" #num_folio="ngModel" [(ngModel)]="dep.num_folio"
                                    class="form-control" id="num_folio" required autocomplete="off">
                                <div class="alert alert-danger" role="alert"
                                    *ngIf="!num_folio.valid && num_folio.touched">
                                    Campo Obligatorio
                                </div>
                            </div>
                            <div class="col-md-3">
                                <label for="num_oficio" class="form-label">Num. Oficio</label>
                                <input type="text" name="num_oficio" #num_oficio="ngModel" [(ngModel)]="dep.num_oficio"
                                    class="form-control" id="num_oficio" autocomplete="off">
                            </div>
                            <div class="col-6">
                                <label for="fecha_oficio" class="form-label">Fecha Oficio</label>
                                <input type="date" class="form-control" name="fecha_oficio" #fecha_oficio="ngModel"
                                    [(ngModel)]="dep.fecha_oficio" id="fecha_oficio">
                            </div>
                            <div class="col-6">
                                <label for="fecha_recepcion" class="form-label">Fecha Recepción</label>
                                <input type="datetime-local" class="form-control" name="fecha_recepcion"
                                    #fecha_recepcion="ngModel" [(ngModel)]="dep.fecha_recepcion" id="fecha_recepcion">
                            </div>

                            <div class="col-md-6">
                                <label for="ins_juridico" class="form-label">Instrumento Jurídico</label>
                                <input list="intrumentos" name="ins_juridico" class="form-control"
                                    placeholder="Estatus del Documento" aria-label="Estatus del Documento"
                                    aria-describedby="basic-addon1" autocomplete="off"
                                    #ins_juridico="ngModel" [(ngModel)]="dep.ins_juridico">
                                <datalist id="intrumentos">
                                    <option *ngFor="let ins of instrumento">
                                        {{ins.name}}
                                    </option>
                                </datalist>
                            </div>

                            <div class="col-6">
                                <label for="remitido" class="form-label">Remitido</label>
                                <input type="text" class="form-control" name="remitido" #remitido="ngModel"
                                    [(ngModel)]="dep.remitido" id="remitido" autocomplete="off">
                            </div>
                            <div class="mb-3">
                                <label for="asunto" class="form-label">Asunto</label>
                                <textarea name="asunto" #asunto="ngModel" [(ngModel)]="dep.asunto" class="form-control"
                                    id="asunto" rows="3"></textarea>
                            </div>
                            <div class="col-6">
                                <label for="asignado" class="form-label">Asignado</label>
                                <input list="asignados" class="form-control" name="asignado" id="asignado"
                                    placeholder="Asignación del Documento" aria-label="Asignación del Documento"
                                    aria-describedby="basic-addon1" autocomplete="off"
                                    #asignado="ngModel" [(ngModel)]="dep.asignado"
                                    >
                                <datalist id="asignados">
                                    <option *ngFor="let asig of asignacion">
                                        {{asig.direccion}}
                                    </option>
                                </datalist>
                            </div>

                            <div class="col-md-6">
                                <label for="estatus" class="form-label">Estatus</label>
                                <input list="browsers" name="estatus" id="estatus" class="form-control"
                                    placeholder="Estatus del Documento" aria-label="Estatus del Documento"
                                    aria-describedby="basic-addon1" autocomplete="off"
                                    #estatus="ngModel" [(ngModel)]="dep.estatus">
                                <datalist id="browsers">
                                    <option *ngFor="let est of estat">
                                        {{est.name}}
                                    </option>
                                </datalist>
                            </div>

                            <div class="mb-3">
                                <label for="observacion" class="form-label">Observación</label>
                                <textarea name="observacion" #observacion="ngModel" [(ngModel)]="dep.observacion"
                                    class="form-control" id="observacion" rows="3"></textarea>
                            </div>
                            <div class="mb-3">
                                <label for="pdfSalida" class="form-label">PDF de salida</label>
                                <input class="form-control" disabled type="file" name="file0"
                                    (change)="capturarSalida($event)" id="pdfSalida">
                            </div>
                        </div>
                    </div>
                    <div class="modal-footer">
                        <button type="submit" value="Guardar" class="btn btn-success">Aceptar</button>
                        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cerrar</button>
                    </div>
                </div>
            </form>
        </div>
    </div>
    <br>

    <app-departures [departures]="departures"></app-departures>
</div>